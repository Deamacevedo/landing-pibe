---
// CTAComercial component - Call to Action para propuesta comercial
---

<section class="w-full py-12 md:py-20 lg:py-32 bg-gradient-to-br from-gray-50 via-white to-slate-100">
  <div class="container mx-auto px-4 md:px-6">
    <div class="max-w-3xl mx-auto text-center">
      <h3 class="text-3xl md:text-4xl font-bold text-black mb-8">
        ¡Cuando tu marca se une a El Pibe Valderrama, no necesita presentación!
      </h3>

      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <button
          id="cta-email-btn"
          data-email="negocios@pibevalderrama.com"
          data-subject="Solicitud de Propuesta Comercial - Pibe Valderrama"
          data-body="Hola,&#10;&#10;Estoy interesado en solicitar una propuesta comercial para trabajar con el Pibe Valderrama.&#10;&#10;Por favor, envíenme información sobre:&#10;- Tarifas y paquetes disponibles&#10;- Tipos de colaboración&#10;- Disponibilidad de fechas&#10;- Alcance y métricas de audiencia&#10;&#10;Mi empresa/marca: [Completar]&#10;Mi teléfono: [Completar]&#10;&#10;Gracias por su tiempo."
          class="inline-block bg-black hover:bg-gray-800 text-white font-bold px-10 py-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 cursor-pointer"
        >
          Solicitar propuesta comercial
        </button>
      </div>
    </div>
  </div>
</section>

<script is:inline>
  // Handle mailto for Mac compatibility
  (function() {
    function initCTAButton() {
      var ctaButton = document.getElementById('cta-email-btn');

      if (ctaButton) {
        ctaButton.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();

          var email = ctaButton.getAttribute('data-email');
          var subject = ctaButton.getAttribute('data-subject');
          var body = ctaButton.getAttribute('data-body');

          var mailtoLink = 'mailto:' + email + '?subject=' + encodeURIComponent(subject) + '&body=' + encodeURIComponent(body);

          // Crear un enlace temporal (funciona mejor en Mac)
          var tempLink = document.createElement('a');
          tempLink.href = mailtoLink;
          tempLink.target = '_blank';
          tempLink.rel = 'noopener noreferrer';

          document.body.appendChild(tempLink);

          setTimeout(function() {
            tempLink.click();
            setTimeout(function() {
              document.body.removeChild(tempLink);
            }, 100);
          }, 0);
        });
      }
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initCTAButton);
    } else {
      initCTAButton();
    }
  })();
</script>
